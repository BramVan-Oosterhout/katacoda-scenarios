Foswiki topic text is presented in the browser inside a container that is referred to as: the skin.
The skin is defined through a collection of files and topics that contain a mixture of html,  TML, and macros.
These files and topics are referred to as template files and template topics, templates for short.
In the context of a template, Foswiki expands a handful of special macros that are similar to meta data.
These macros are called template directives. Template directives all have the form _%TMPL:directive{"identifier"}%_.

<style>
pre code {
			color: yellow;
			background-color:  blue;
		}
</style>

### _Template directives_
There are five template directives:

| *Name* | *Purpose* |
|--------|-----------|
| _P_      |Places the string associated with the _identifier_ in the output stream. | 
| _DEF_ |Defines a string of text of any form (html, TML  and text) and associates that string with the _identifier_ .  The string is terminated by  the template macro: _%TMPL:END%_. |
| _END_ |Terminates the _%TMPL:DEF{ "identifier" }%_ |
| _INCLUDE_ |Includes another template in the current template file. |
| _&lt;nothing>_ |A special macro that is treated as a comment. All text inside _%{_ and _}%_ is ignored, including new lines |

Template expansion starts from the first _%TMPL:P{...}%_ directive encountered in the templates as they are expanded.
In the default _view_ case that directive is `%TMPL:P{"document"}%` in the included _templates/foswiki.tmpl_.
Check it out with: `less -N /var/www/foswiki/templates/foswiki.tmpl`{{execute}}

_document_ is defined as:<span class="p3" >
```
%TMPL:DEF{"document"}%%TMPL:P{"htmldoctype"}%%TMPL:P{"htmlstart"}%
%TMPL:P{"head"}%
%TMPL:P{"bodystart"}%%TMPL:P{"main"}%%TMPL:P{"bodyend"}%%TMPL:P{"htmlend"}%%TMPL:END%
```
</span>

You can see the structure of the html page reflected in the macros that are evaluated. First the _htmldoctype_ is emitted which is defined as:
```
%TMPL:DEF{"htmldoctype"}%<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="%LANG%" lang="%LANG%">%TMPL:END%
```

This is followed by the _htmlstart_, which is not defined in the default set of templates.
The expansion of undefined templates is quietly skipped.  Then _head_ is emitted, defined as:
```
%TMPL:DEF{"head"}%<head>
	%TMPL:P{"windowtitle"}%
        %TMPL:P{context="edit" then="ie8compatibilitymode"}%
	<meta http-equiv="Content-Type" content="text/html; charset=%CHARSET%" /> <meta name="robots" content="noindex" /> %HTTP_EQUIV_ON_VIEW%
	<link rel="icon" href="%FAVICON%" type="image/x-icon" /> <link rel="shortcut icon" href="%FAVICON%" type="image/x-icon" />
	<link rel="alternate" href="%SCRIPTURL{edit}%/%BASEWEB%/%BASETOPIC%?t=%GMTIME{"$epoch"}%" type="application/x-wiki" title="edit %BASETOPIC%" />
	<meta name="description" content="%TOPIC%" />
    <base href="%SCRIPTURL{%SCRIPTNAME%}%/%WEB%/%TOPIC%" /><!--[if IE]></base><![endif]-->
	%TMPL:P{"script"}%
	%TMPL:P{"defaultstyle"}%
</head>%TMPL:END%
```

Next comes _bodystart_,  defined as:
```
%TMPL:DEF{"bodystart"}%<body class="foswikiNoJs %TMPL:P{"bodyclassname"}%"><div class="foswikiPage">
#PageTop %TMPL:END%
```

Followed by _main_ defined as:
```
%TMPL:DEF{"main"}%<div class="foswikiMain">%TMPL:P{"simpleheader"}%%{
---------------------------------------------------
}%%TMPL:P{"pagetitlestylewrapper"}%%TMPL:P{"contentwrapper"}%%{
---------------------------------------------------
}%%TMPL:P{"standardfooter"}%</div>%TMPL:END%
```
then _bodyend_
```
%TMPL:DEF{"bodyend"}%</div>
</body></html>%TMPL:END%
```

and finally _htmlend_, which does not have a definition in the default template files.

The examples above are taken directly from the _foswiki.tmpl_ file in the _Foswikiroot/templates_ directory. They illustrate a few things:
*   Empty definitions are OK and do not emit anything. They are silently ignored.
*   Definitions can in turn have new _%TMPL:P{...}%_ directives, which are potentially defined in another template file or topic.
*   Definitions can contain normal macros like: _%GMTIME%, %TOPIC%_ and so on. 
*   As a guide, the display of content is defined in the _contentwrapper_. 


